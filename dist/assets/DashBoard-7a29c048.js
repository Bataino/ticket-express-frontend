import{b as y,o as b,c as g,d as s,a as e,x as o,u as r,h as i,ad as _,z as h,S as m,t as u}from"./index-1c3ab2de.js";import{s as p}from"./column.esm-b923e8d1.js";const v={class:""},O={class:"p-4 px-md-5"},D=e("h2",{class:"bold"}," DashBoard ",-1),C={class:"row"},f={class:"col-12 col-md-7"},V={class:""},S={class:"w-100"},k={class:"col-12 col-md-5"},w={class:"w-100"},P={class:"col-12"},j={class:"w-100"},x={class:""},B={class:""},$={name:"HomeView",data(){const t=getComputedStyle(document.documentElement);return{chartOptions:{},chartData:{labels:[],datasets:[{label:[],data:[],fill:!1,backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:t.getPropertyValue("--bs-primary"),tension:.4}]},pieChartData:{labels:[],datasets:[{data:[],backgroundColor:[t.getPropertyValue("--blue-500"),t.getPropertyValue("--yellow-500"),t.getPropertyValue("--green-500")],hoverBackgroundColor:[t.getPropertyValue("--blue-400"),t.getPropertyValue("--yellow-400"),t.getPropertyValue("--green-400")]}]}}},methods:{setChartOptions(){const t=getComputedStyle(document.documentElement),a=t.getPropertyValue("--text-color"),l=t.getPropertyValue("--text-color-secondary"),c=t.getPropertyValue("--surface-border");return{plugins:{legend:{labels:{color:a}}},scales:{indexAxis:"y",x:{ticks:{color:l},grid:{color:c}},y:{beginAtZero:!0,ticks:{color:l},grid:{color:c}}}}},async getGraphData(){const t=await this.$store.dispatch("getDashboardService"),a=t.data.tickets,l=t.data.orders.sort((c,n)=>Object.values(c)[0]+Object.values(n)[0]).splice(0,10);this.pieChartData.datasets[0].data=Object.values(a),this.pieChartData.labels=Object.keys(a),this.chartData.datasets[0].data=Object.values(l),this.chartData.datasets[0].label=Object.keys(l),this.chartData.labels=Object.keys(l),console.log("Obj",Object.values(l))}},components:{},mounted(){this.chartOptions=this.setChartOptions()},async created(){await this.$store.dispatch("getAllOrdersService"),this.getGraphData()}},N=Object.assign($,{setup(t){return(a,l)=>{const c=y("te-header");return b(),g("div",v,[s(c),e("div",O,[D,e("div",C,[e("div",f,[e("div",V,[s(r(h),null,{title:o(()=>[i(" Orders ")]),content:o(()=>[e("div",S,[s(r(_),{type:"bar",data:a.chartData,optios:a.chartOptions},null,8,["data","optios"])])]),_:1})])]),e("div",k,[e("div",w,[s(r(h),null,{title:o(()=>[i(" Events Stats ")]),content:o(()=>[e("div",null,[s(r(_),{type:"pie",data:a.pieChartData,opions:a.pieChartOptions,class:"md:w-10rem"},null,8,["data","opions"])])]),_:1})])]),e("div",P,[e("div",j,[s(r(h),null,{title:o(()=>[i(" Recent Orders ")]),content:o(()=>{var n;return[s(r(m),{value:(n=a.$store.state.allOrders)==null?void 0:n.data.slice(0,5),tableStyle:""},{default:o(()=>[s(r(p),{field:"id",header:"ID"}),s(r(p),{field:"summary",header:"Summary"},{body:o(({data:d})=>[e("div",x,[e("span",null,u(d.summary),1)])]),_:1}),s(r(p),{field:"price",header:"Price"},{body:o(d=>[i(u(a.$te.currency)+" "+u(d.data.price),1)]),_:1}),s(r(p),{field:"created_at",header:"Date"},{body:o(({data:d})=>[e("div",B,[e("span",null,u(new Date(d.created_at).toLocaleString()),1)])]),_:1})]),_:1},8,["value"])]}),_:1})])])])])])}}});export{N as default};
