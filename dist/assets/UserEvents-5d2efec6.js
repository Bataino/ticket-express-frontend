import{b as u,o as a,c as i,d as l,a as e,h as _,u as h,F as v,r as f,x as c,j as y,t as d,z as b}from"./index-1c3ab2de.js";const w={class:""},g={class:"px-4"},k={class:"d-flex w-100 justify-content-center"},x={class:"card flex w-100 flex-wrap rounded-7 py-1 justify-content-center gap-3"},C={class:"p-input-icon-left"},$=e("i",{class:"pi pi-search"},null,-1),V={class:"py-4 px-1"},T={key:0,class:"row mx-center"},j={class:"col-12 col-sm-6 col-md-4 co-lg-3"},E={class:"h6 bold text-muted"},N={class:"cuttext"},B={class:"bold text-primary"},L={key:1,class:"text-center h5 text-muted mt-3 bold py-5"},U=e("br",null,null,-1),F={name:"HomeView",components:{},data(){return{search:"",events:[]}},methods:{getTotalTicketsCost(n){return n[0]?n.reduce((o,r)=>(console.log(o,r),o+r.price),0):0}},watch:{search(n){this.events=this.$store.state.events.filter(t=>t.title.toLowerCase().includes(n)||t.description.toLowerCase().includes(n))}},async created(){await this.$store.dispatch("getUserEventService"),this.events=this.$store.state.events}},A=Object.assign(F,{setup(n){return(t,o)=>{const r=u("te-header"),p=u("icon"),m=u("router-link");return a(),i("div",w,[l(r),e("div",g,[e("div",{class:"float-end pe-point mt-2 d-flex align-items-center p-2 text-primary bold mb-3",onClick:o[0]||(o[0]=s=>t.$router.push("/event/add"))},[l(p,{icon:"solar:calendar-add-bold",class:"fs-3 me-1"}),_(" Add Event ")]),e("div",k,[e("div",x,[e("span",C,[$,l(h(y),{modelValue:t.search,"onUpdate:modelValue":o[1]||(o[1]=s=>t.search=s),placeholder:"Keyword",class:"w-100 border-0"},null,8,["modelValue"])])])]),e("div",V,[t.events.length!=0?(a(),i("div",T,[(a(!0),i(v,null,f(t.events,s=>(a(),i("div",j,[l(h(b),{style:{"min-width":"100%"},class:"m-2 mw-100 me-3 border shadow-sm",onClick:S=>t.$router.push("/event/"+s.id)},{title:c(()=>[e("div",E,d(s.title),1)]),subtitle:c(()=>[e("div",N,d(s.description),1)]),content:c(()=>[e("h2",B,"$"+d(t.getTotalTicketsCost(s.orders)),1),e("small",null,d(s.tickets.length)+" Tickets sold",1)]),_:2},1032,["onClick"])]))),256))])):(a(),i("div",L,[l(p,{icon:"teenyicons:mood-sad-outline",class:"fs-1"}),_(" No event could be found"),U,l(m,{to:"/event/add",class:"btn text-primary bold bg-whitesmoke small mt-3"},{default:c(()=>[_(" Create one ")]),_:1})]))])])])}}});export{A as default};
