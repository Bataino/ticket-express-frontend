import{b as p,o as i,c as a,d as n,a as t,h as c,u as h,F as f,r as b,x as d,j as y,t as u,z as k}from"./index-d4651997.js";const w={class:""},g={class:"px-4"},x={class:"d-flex w-100 justify-content-center"},C={class:"card flex w-100 flex-wrap rounded-7 py-1 justify-content-center gap-3"},$={class:"p-input-icon-left"},V=t("i",{class:"pi pi-search"},null,-1),T={class:"py-4 px-1"},j={key:0,class:"row mx-center"},E={class:"col-12 col-sm-6 col-md-4 co-lg-3"},N={class:"h6 bold text-muted"},B={class:"cuttext"},L={class:"bold text-primary"},U={key:1,class:"text-center h5 text-muted mt-3 bold py-5"},F=t("br",null,null,-1),S={name:"HomeView",components:{},data(){return{search:"",events:[]}},methods:{getTotalTicketsCost(l){return l[0]?l.reduce((o,r)=>(console.log(o,r),o+r.price),0):0}},watch:{search(l){this.events=this.$store.state.events.filter(e=>e.title.toLowerCase().includes(l)||e.description.toLowerCase().includes(l))}},async created(){await this.$store.dispatch("getUserEventService"),this.events=this.$store.state.events}},A=Object.assign(S,{setup(l){return(e,o)=>{const r=p("te-header"),_=p("icon"),m=p("router-link");return i(),a("div",w,[n(r),t("div",g,[t("div",{class:"float-end pe-point mt-2 d-flex align-items-center p-2 text-primary bold mb-3",onClick:o[0]||(o[0]=s=>e.$router.push("/event/add"))},[n(_,{icon:"solar:calendar-add-bold",class:"fs-3 me-1"}),c(" Add Event ")]),t("div",x,[t("div",C,[t("span",$,[V,n(h(y),{modelValue:e.search,"onUpdate:modelValue":o[1]||(o[1]=s=>e.search=s),placeholder:"Keyword",class:"w-100 border-0"},null,8,["modelValue"])])])]),t("div",T,[e.events.length!=0?(i(),a("div",j,[(i(!0),a(f,null,b(e.events,s=>(i(),a("div",E,[n(h(k),{style:{"min-width":"100%"},class:"m-2 mw-100 me-3 border shadow-none",onClick:v=>e.$router.push("/event/"+s.id)},{title:d(()=>[t("div",N,[c(u(s.title)+" ",1),n(_,{icon:"tabler:edit",class:"fs-1 float-end text-muted",onClick:v=>e.$router.push("/event/edit/"+s.id)},null,8,["onClick"])])]),subtitle:d(()=>[t("div",B,u(s.description),1)]),content:d(()=>[t("h2",L,"$"+u(e.getTotalTicketsCost(s.orders)),1),t("small",null,u(s.tickets.length)+" Tickets sold",1)]),_:2},1032,["onClick"])]))),256))])):(i(),a("div",U,[n(_,{icon:"teenyicons:mood-sad-outline",class:"fs-1"}),c(" No event could be found"),F,n(m,{to:"/event/add",class:"btn text-primary bold bg-whitesmoke small mt-3"},{default:d(()=>[c(" Create one ")]),_:1})]))])])])}}});export{A as default};
