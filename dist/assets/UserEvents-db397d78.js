import{b as u,o as l,c as i,d as a,a as e,u as _,F as v,r as y,h,y as r,k as f,t as d,A as b}from"./index-80291f2e.js";const g={class:""},w={class:"px-4 me-2"},k={class:"d-flex ms-1 align-items-center justify-content-between pt-3"},x=e("span",{class:"h4 bold text-secondary"}," Pages ",-1),C={class:"d-flex ms-1 w-100 justify-content-center"},$={class:"card flex w-100 flex-wrap rounded-7 py-1 justify-content-center gap-3"},V={class:"p-input-icon-left"},T=e("i",{class:"pi pi-search"},null,-1),j={class:"py-4"},N={key:0,class:"row"},B={class:"col-12 col-sm-6 col-md-4 co-lg-3"},E={class:"h6 bold text-muted"},L={class:"cuttext"},U={class:"bold text-primary"},F={key:1,class:"text-center h5 text-muted mt-3 bold py-5"},P=e("br",null,null,-1),S={name:"HomeView",components:{},data(){return{search:"",events:[]}},methods:{getTotalTicketsCost(n){return n[0]?n.reduce((o,c)=>(console.log(o,c),o+c.price),0):0}},watch:{search(n){this.events=this.$store.state.events.filter(t=>t.title.toLowerCase().includes(n)||t.description.toLowerCase().includes(n))}},async created(){await this.$store.dispatch("getUserEventService"),this.events=this.$store.state.events}},H=Object.assign(S,{setup(n){return(t,o)=>{const c=u("te-header"),p=u("icon"),m=u("router-link");return l(),i("div",g,[a(c),e("div",w,[e("div",k,[x,e("div",{class:"btn bg-whitesmoke px-4 rounded-7 pe-point mt-2 d-flex align-items-center p-2 text-primary bold mb-3",onClick:o[0]||(o[0]=s=>t.$router.push("/event/add"))}," create Page ")]),e("div",C,[e("div",$,[e("span",V,[T,a(_(f),{modelValue:t.search,"onUpdate:modelValue":o[1]||(o[1]=s=>t.search=s),placeholder:"Keyword",class:"w-100 border-0"},null,8,["modelValue"])])])]),e("div",j,[t.events.length!=0?(l(),i("div",N,[(l(!0),i(v,null,y(t.events,s=>(l(),i("div",B,[a(_(b),{style:{"min-width":"100%"},class:"m-2 mw-100 me-3 rounded-7 shadow",onClick:A=>t.$router.push("/event/"+s.id)},{title:r(()=>[e("div",E,d(s.title),1)]),subtitle:r(()=>[e("div",L,d(s.description),1)]),content:r(()=>[e("h2",U,"$"+d(t.getTotalTicketsCost(s.orders)),1),e("small",null,d(s.tickets.length)+" Tickets sold",1)]),_:2},1032,["onClick"])]))),256))])):(l(),i("div",F,[a(p,{icon:"teenyicons:mood-sad-outline",class:"fs-1"}),h(" No event could be found"),P,a(m,{to:"/event/add",class:"btn text-primary bold bg-whitesmoke small mt-3"},{default:r(()=>[h(" Create one ")]),_:1})]))])])])}}});export{H as default};
