import{ae as ft,o as X,c as ue,p as br,w as nt,af as Fe,ag as si,ah as ci,ac as ur,ai as lr,a as U,n as ui,f as li,J as fi,Q as di,d as ot,u as $e,h as it,y as pi,a4 as fr,t as at,q as dr,g as pr,aj as Ue}from"./index-80291f2e.js";var _r=(n,a,o)=>{if(!a.has(n))throw TypeError("Cannot "+o)},hi=(n,a,o)=>(_r(n,a,"read from private field"),o?o.call(n):a.get(n)),mi=(n,a,o)=>{if(a.has(n))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(n):a.set(n,o)},vi=(n,a,o,l)=>(_r(n,a,"write to private field"),l?l.call(n,o):a.set(n,o),o);function yi(n){if(gi(n))return{width:n.naturalWidth,height:n.naturalHeight};if(wi(n))return{width:n.width.baseVal.value,height:n.height.baseVal.value};if(bi(n))return{width:n.videoWidth,height:n.videoHeight};if(Cr(n))return{width:n.width,height:n.height};if(_i(n))return{width:n.width,height:n.height};if(Ci(n))return{width:n.width,height:n.height};if(Ti(n))return{width:n.displayWidth,height:n.displayHeight};throw new Error("Unsupported image type")}function gi(n){try{return n instanceof HTMLImageElement}catch{return!1}}function wi(n){try{return n instanceof SVGImageElement}catch{return!1}}function bi(n){try{return n instanceof HTMLVideoElement}catch{return!1}}function Cr(n){try{return n instanceof HTMLCanvasElement}catch{return!1}}function _i(n){try{return n instanceof ImageBitmap}catch{return!1}}function Ci(n){try{return n instanceof OffscreenCanvas}catch{return!1}}function Ti(n){try{return n instanceof VideoFrame}catch{return!1}}function Si(n){try{return n instanceof Blob}catch{return!1}}function Pi(n){try{return n instanceof ImageData}catch{return!1}}function $i(n,a){try{const o=new OffscreenCanvas(n,a);if(o.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return o;throw new Error("OffscreenCanvasRenderingContext2D is not supported")}catch{const o=document.createElement("canvas");return o.width=n,o.height=a,o}}function Tr(n){const{width:a,height:o}=yi(n),l=$i(a,o),p=l.getContext("2d");p.drawImage(n,0,0);const d=p.getImageData(0,0,a,o);return Cr(l)&&l.remove(),d}async function Ei(n){const a=await createImageBitmap(n);return Tr(a)}async function Oi(n){return Si(n)?await Ei(n):Pi(n)?n:Tr(n)}const hr=n=>{let a;const o=new Set,l=(v,S)=>{const m=typeof v=="function"?v(a):v;if(!Object.is(m,a)){const b=a;a=S??typeof m!="object"?m:Object.assign({},a,m),o.forEach(C=>C(a,b))}},p=()=>a,d={setState:l,getState:p,subscribe:v=>(o.add(v),()=>o.delete(v)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}};return a=n(l,p,d),d},ki=n=>n?hr(n):hr,Di={locateFile:(n,a)=>{var o;const l=(o=n.match(new RegExp("(?<=_).+?(?=\\.wasm$)")))==null?void 0:o[0];return l?`https://cdn.jsdelivr.net/npm/@sec-ant/zxing-wasm@1.2.4/dist/${l}/${n}`:a+n}},We=ki()(()=>({zxingModuleWeakMap:new WeakMap,zxingModuleOverrides:Di}));function Sr(n,a=We.getState().zxingModuleOverrides){const{zxingModuleWeakMap:o}=We.getState(),l=o.get(n);if(l&&Object.is(a,We.getState().zxingModuleOverrides))return l;{We.setState({zxingModuleOverrides:a});const p=n(a);return o.set(n,p),p}}const mr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"],pe={tryHarder:!0,formats:[],maxNumberOfSymbols:1/0};async function xi(n,{tryHarder:a=pe.tryHarder,formats:o=pe.formats,maxNumberOfSymbols:l=pe.maxNumberOfSymbols}=pe,p){const d=await Sr(p,We.getState().zxingModuleOverrides),{data:v,width:S,height:m,data:{byteLength:b}}=n,C=d._malloc(b);d.HEAP8.set(v,C);const _=d.readBarcodeFromPixmap(C,S,m,a,Ai(o),l);d._free(C);const k=[];for(let $=0;$<_.size();++$){const O=_.get($);k.push({...O,format:Mi(O.format)})}return k}function Ai(n){return n.join("|")}function Mi(n){const a=vr(n);let o=0,l=mr.length-1;for(;o<=l;){const p=Math.floor((o+l)/2),d=mr[p],v=vr(d);if(v===a)return d;v<a?o=p+1:l=p-1}return"None"}function vr(n){return n.toLowerCase().replace(/_-\[\]/g,"")}var Pr=(()=>{var n=import.meta.url;return function(a={}){var o=typeof a<"u"?a:{},l,p;o.ready=new Promise((e,t)=>{l=e,p=t});var d=Object.assign({},o),v="./this.program",S=typeof window=="object",m=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var b="";function C(e){return o.locateFile?o.locateFile(e,b):b+e}var _;(S||m)&&(m?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),n&&(b=n),b.indexOf("blob:")!==0?b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):b="",m&&(_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var k=o.printErr||console.error.bind(console);Object.assign(o,d),d=null,o.arguments&&o.arguments,o.thisProgram&&(v=o.thisProgram),o.quit&&o.quit;var $;o.wasmBinary&&($=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&Te("no native wasm support detected");var O,j=!1;function K(e,t){e||Te(t)}var G,q,re,ve,H,N,Ie,He;function Ne(){var e=O.buffer;o.HEAP8=G=new Int8Array(e),o.HEAP16=re=new Int16Array(e),o.HEAP32=H=new Int32Array(e),o.HEAPU8=q=new Uint8Array(e),o.HEAPU16=ve=new Uint16Array(e),o.HEAPU32=N=new Uint32Array(e),o.HEAPF32=Ie=new Float32Array(e),o.HEAPF64=He=new Float64Array(e)}var Ce,Oe=[],Le=[],Ve=[];function le(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)pt(o.preRun.shift());vt(Oe)}function ee(){vt(Le)}function dt(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)mt(o.postRun.shift());vt(Ve)}function pt(e){Oe.unshift(e)}function ht(e){Le.unshift(e)}function mt(e){Ve.unshift(e)}var ne=0,ye=null;function Nr(e){ne++,o.monitorRunDependencies&&o.monitorRunDependencies(ne)}function Lr(e){if(ne--,o.monitorRunDependencies&&o.monitorRunDependencies(ne),ne==0&&ye){var t=ye;ye=null,t()}}function Te(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",k(e),j=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw p(t),t}var Vr="data:application/octet-stream;base64,";function xt(e){return e.startsWith(Vr)}var ge;o.locateFile?(ge="zxing_reader.wasm",xt(ge)||(ge=C(ge))):ge=new URL("/reader/zxing_reader.wasm",self.location).href;function At(e){try{if(e==ge&&$)return new Uint8Array($);if(_)return _(e);throw"both async and sync fetching of the wasm failed"}catch(t){Te(t)}}function zr(e){return!$&&(S||m)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>At(e)):Promise.resolve().then(()=>At(e))}function Mt(e,t,r){return zr(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(r,i=>{k("failed to asynchronously prepare wasm: "+i),Te(i)})}function Br(e,t,r,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!xt(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var c=WebAssembly.instantiateStreaming(s,r);return c.then(i,function(f){return k("wasm streaming compile failed: "+f),k("falling back to ArrayBuffer instantiation"),Mt(t,r,i)})}):Mt(t,r,i)}function qr(){var e={a:Oo};function t(i,s){var c=i.exports;return o.asm=c,O=o.asm.oa,Ne(),Ce=o.asm.sa,ht(o.asm.pa),Lr(),c}Nr();function r(i){t(i.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(i){k("Module.instantiateWasm callback failed with error: "+i),p(i)}return Br($,ge,e,r).catch(p),{}}function vt(e){for(;e.length>0;)e.shift()(o)}var ze=[],Be=0;function Gr(e){var t=new qe(e);return t.get_caught()||(t.set_caught(!0),Be--),t.set_rethrown(!1),ze.push(t),nr(t.excPtr),t.get_exception_ptr()}var oe=0;function Yr(){D(0);var e=ze.pop();rr(e.excPtr),oe=0}function qe(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){N[this.ptr+4>>2]=t},this.get_type=function(){return N[this.ptr+4>>2]},this.set_destructor=function(t){N[this.ptr+8>>2]=t},this.get_destructor=function(){return N[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,G[this.ptr+12>>0]=t},this.get_caught=function(){return G[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,G[this.ptr+13>>0]=t},this.get_rethrown=function(){return G[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){N[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return N[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=ir(this.get_type());if(t)return N[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}function Jr(e){throw oe||(oe=e),oe}function yt(){var e=oe;if(!e)return Re(0),0;var t=new qe(e);t.set_adjusted_ptr(e);var r=t.get_type();if(!r)return Re(0),e;for(var i=0;i<arguments.length;i++){var s=arguments[i];if(s===0||s===r)break;var c=t.ptr+16;if(or(s,r,c))return Re(s),e}return Re(r),e}var Qr=yt,Kr=yt,Zr=yt;function Xr(e){var t=new qe(e).get_exception_ptr();return t}function en(){var e=ze.pop();e||Te("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(ze.push(e),e.set_rethrown(!0),e.set_caught(!1),Be++),oe=t,oe}function tn(e,t,r){var i=new qe(e);throw i.init(t,r),oe=e,Be++,oe}function rn(){return Be}var Ge={};function jt(e){for(;e.length;){var t=e.pop(),r=e.pop();r(t)}}function ke(e){return this.fromWireType(H[e>>2])}var Se={},we={},Ye={},nn=48,on=57;function Rt(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=nn&&t<=on?`_${e}`:e}function Ft(e,t){return e=Rt(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function gt(e,t){var r=Ft(t,function(i){this.name=t,this.message=i;var s=new Error(i).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var Ut=void 0;function Je(e){throw new Ut(e)}function be(e,t,r){e.forEach(function(u){Ye[u]=t});function i(u){var h=r(u);h.length!==e.length&&Je("Mismatched type converter count");for(var y=0;y<e.length;++y)ie(e[y],h[y])}var s=new Array(t.length),c=[],f=0;t.forEach((u,h)=>{we.hasOwnProperty(u)?s[h]=we[u]:(c.push(u),Se.hasOwnProperty(u)||(Se[u]=[]),Se[u].push(()=>{s[h]=we[u],++f,f===c.length&&i(s)}))}),c.length===0&&i(s)}function an(e){var t=Ge[e];delete Ge[e];var r=t.rawConstructor,i=t.rawDestructor,s=t.fields,c=s.map(f=>f.getterReturnType).concat(s.map(f=>f.setterArgumentType));be([e],c,f=>{var u={};return s.forEach((h,y)=>{var w=h.fieldName,P=f[y],E=h.getter,M=h.getterContext,W=f[y+s.length],z=h.setter,I=h.setterContext;u[w]={read:B=>P.fromWireType(E(M,B)),write:(B,g)=>{var T=[];z(I,B,W.toWireType(T,g)),jt(T)}}}),[{name:t.name,fromWireType:function(h){var y={};for(var w in u)y[w]=u[w].read(h);return i(h),y},toWireType:function(h,y){for(var w in u)if(!(w in y))throw new TypeError(`Missing field: "${w}"`);var P=r();for(w in u)u[w].write(P,y[w]);return h!==null&&h.push(i,P),P},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:i}]})}function sn(e,t,r,i,s){}function wt(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function cn(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Wt=e}var Wt=void 0;function Y(e){for(var t="",r=e;q[r];)t+=Wt[q[r++]];return t}var Pe=void 0;function R(e){throw new Pe(e)}function ie(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||R(`type "${i}" must have a positive integer typeid pointer`),we.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;R(`Cannot register type '${i}' twice`)}if(we[e]=t,delete Ye[e],Se.hasOwnProperty(e)){var s=Se[e];delete Se[e],s.forEach(c=>c())}}function un(e,t,r,i,s){var c=wt(r);t=Y(t),ie(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,u){return u?i:s},argPackAdvance:8,readValueFromPointer:function(f){var u;if(r===1)u=G;else if(r===2)u=re;else if(r===4)u=H;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(u[f>>c])},destructorFunction:null})}function ln(e){if(!(this instanceof fe)||!(e instanceof fe))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,i=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return t===i&&r===s}function fn(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function bt(e){function t(r){return r.$$.ptrType.registeredClass.name}R(t(e)+" instance already deleted")}var _t=!1;function It(e){}function dn(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Ht(e){e.count.value-=1;var t=e.count.value===0;t&&dn(e)}function Nt(e,t,r){if(t===r)return e;if(r.baseClass===void 0)return null;var i=Nt(e,t,r.baseClass);return i===null?null:r.downcast(i)}var Lt={};function pn(){return Object.keys(Ae).length}function hn(){var e=[];for(var t in Ae)Ae.hasOwnProperty(t)&&e.push(Ae[t]);return e}var De=[];function Ct(){for(;De.length;){var e=De.pop();e.$$.deleteScheduled=!1,e.delete()}}var xe=void 0;function mn(e){xe=e,De.length&&xe&&xe(Ct)}function vn(){o.getInheritedInstanceCount=pn,o.getLiveInheritedInstances=hn,o.flushPendingDeletes=Ct,o.setDelayFunction=mn}var Ae={};function yn(e,t){for(t===void 0&&R("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function gn(e,t){return t=yn(e,t),Ae[t]}function Qe(e,t){(!t.ptrType||!t.ptr)&&Je("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,i=!!t.smartPtr;return r!==i&&Je("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Me(Object.create(e,{$$:{value:t}}))}function wn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=gn(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}function s(){return this.isSmartPointer?Qe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Qe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var c=this.registeredClass.getActualType(t),f=Lt[c];if(!f)return s.call(this);var u;this.isConst?u=f.constPointerType:u=f.pointerType;var h=Nt(t,this.registeredClass,u.registeredClass);return h===null?s.call(this):this.isSmartPointer?Qe(u.registeredClass.instancePrototype,{ptrType:u,ptr:h,smartPtrType:this,smartPtr:e}):Qe(u.registeredClass.instancePrototype,{ptrType:u,ptr:h})}function Me(e){return typeof FinalizationRegistry>"u"?(Me=t=>t,e):(_t=new FinalizationRegistry(t=>{Ht(t.$$)}),Me=t=>{var r=t.$$,i=!!r.smartPtr;if(i){var s={$$:r};_t.register(t,s,t)}return t},It=t=>_t.unregister(t),Me(e))}function bn(){if(this.$$.ptr||bt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Me(Object.create(Object.getPrototypeOf(this),{$$:{value:fn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function _n(){this.$$.ptr||bt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&R("Object already scheduled for deletion"),It(this),Ht(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Cn(){return!this.$$.ptr}function Tn(){return this.$$.ptr||bt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&R("Object already scheduled for deletion"),De.push(this),De.length===1&&xe&&xe(Ct),this.$$.deleteScheduled=!0,this}function Sn(){fe.prototype.isAliasOf=ln,fe.prototype.clone=bn,fe.prototype.delete=_n,fe.prototype.isDeleted=Cn,fe.prototype.deleteLater=Tn}function fe(){}function Vt(e,t,r){if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||R(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}}function zt(e,t,r){o.hasOwnProperty(e)?((r===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[r]!==void 0)&&R(`Cannot register public name '${e}' twice`),Vt(o,e,e),o.hasOwnProperty(r)&&R(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,r!==void 0&&(o[e].numArguments=r))}function Pn(e,t,r,i,s,c,f,u){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=s,this.getActualType=c,this.upcast=f,this.downcast=u,this.pureVirtualFunctions=[]}function Tt(e,t,r){for(;t!==r;)t.upcast||R(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e}function $n(e,t){if(t===null)return this.isReference&&R(`null is not a valid ${this.name}`),0;t.$$||R(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||R(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Tt(t.$$.ptr,r,this.registeredClass);return i}function En(e,t){var r;if(t===null)return this.isReference&&R(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||R(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||R(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&R(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(r=Tt(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&R("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:R(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,Xe.toHandle(function(){s.delete()})),e!==null&&e.push(this.rawDestructor,r)}break;default:R("Unsupporting sharing policy")}return r}function On(e,t){if(t===null)return this.isReference&&R(`null is not a valid ${this.name}`),0;t.$$||R(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||R(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&R(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,i=Tt(t.$$.ptr,r,this.registeredClass);return i}function kn(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Dn(e){this.rawDestructor&&this.rawDestructor(e)}function xn(e){e!==null&&e.delete()}function An(){ae.prototype.getPointee=kn,ae.prototype.destructor=Dn,ae.prototype.argPackAdvance=8,ae.prototype.readValueFromPointer=ke,ae.prototype.deleteObject=xn,ae.prototype.fromWireType=wn}function ae(e,t,r,i,s,c,f,u,h,y,w){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=i,this.isSmartPointer=s,this.pointeeType=c,this.sharingPolicy=f,this.rawGetPointee=u,this.rawConstructor=h,this.rawShare=y,this.rawDestructor=w,!s&&t.baseClass===void 0?i?(this.toWireType=$n,this.destructorFunction=null):(this.toWireType=On,this.destructorFunction=null):this.toWireType=En}function Bt(e,t,r){o.hasOwnProperty(e)||Je("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&r!==void 0?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Mn(e,t,r){var i=o["dynCall_"+e];return r&&r.length?i.apply(null,[t].concat(r)):i.call(null,t)}var Ke=[];function F(e){var t=Ke[e];return t||(e>=Ke.length&&(Ke.length=e+1),Ke[e]=t=Ce.get(e)),t}function jn(e,t,r){if(e.includes("j"))return Mn(e,t,r);var i=F(t).apply(null,r);return i}function Rn(e,t){var r=[];return function(){return r.length=0,Object.assign(r,arguments),jn(e,t,r)}}function Z(e,t){e=Y(e);function r(){return e.includes("j")?Rn(e,t):F(t)}var i=r();return typeof i!="function"&&R(`unknown function pointer with signature ${e}: ${t}`),i}var qt=void 0;function Gt(e){var t=tr(e),r=Y(t);return se(t),r}function Ze(e,t){var r=[],i={};function s(c){if(!i[c]&&!we[c]){if(Ye[c]){Ye[c].forEach(s);return}r.push(c),i[c]=!0}}throw t.forEach(s),new qt(`${e}: `+r.map(Gt).join([", "]))}function Fn(e,t,r,i,s,c,f,u,h,y,w,P,E){w=Y(w),c=Z(s,c),u&&(u=Z(f,u)),y&&(y=Z(h,y)),E=Z(P,E);var M=Rt(w);zt(M,function(){Ze(`Cannot construct ${w} due to unbound types`,[i])}),be([e,t,r],i?[i]:[],function(W){W=W[0];var z,I;i?(z=W.registeredClass,I=z.instancePrototype):I=fe.prototype;var B=Ft(M,function(){if(Object.getPrototypeOf(this)!==g)throw new Pe("Use 'new' to construct "+w);if(T.constructor_body===void 0)throw new Pe(w+" has no accessible constructor");var rt=T.constructor_body[arguments.length];if(rt===void 0)throw new Pe(`Tried to invoke ctor of ${w} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return rt.apply(this,arguments)}),g=Object.create(I,{constructor:{value:B}});B.prototype=g;var T=new Pn(w,B,g,E,z,c,u,y);T.baseClass&&(T.baseClass.__derivedClasses===void 0&&(T.baseClass.__derivedClasses=[]),T.baseClass.__derivedClasses.push(T));var L=new ae(w,T,!0,!1,!1),V=new ae(w+"*",T,!1,!1,!1),_e=new ae(w+" const*",T,!1,!0,!1);return Lt[e]={pointerType:V,constPointerType:_e},Bt(M,B),[L,V,_e]})}function St(e,t){for(var r=[],i=0;i<e;i++)r.push(N[t+i*4>>2]);return r}function Pt(e,t,r,i,s,c){var f=t.length;f<2&&R("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=t[1]!==null&&r!==null,h=!1,y=1;y<t.length;++y)if(t[y]!==null&&t[y].destructorFunction===void 0){h=!0;break}var w=t[0].name!=="void",P=f-2,E=new Array(P),M=[],W=[];return function(){arguments.length!==P&&R(`function ${e} called with ${arguments.length} arguments, expected ${P} args!`),W.length=0;var z;M.length=u?2:1,M[0]=s,u&&(z=t[1].toWireType(W,this),M[1]=z);for(var I=0;I<P;++I)E[I]=t[I+2].toWireType(W,arguments[I]),M.push(E[I]);var B=i.apply(null,M);function g(T){if(h)jt(W);else for(var L=u?1:2;L<t.length;L++){var V=L===1?z:E[L-2];t[L].destructorFunction!==null&&t[L].destructorFunction(V)}if(w)return t[0].fromWireType(T)}return g(B)}}function Un(e,t,r,i,s,c){K(t>0);var f=St(t,r);s=Z(i,s),be([],[e],function(u){u=u[0];var h=`constructor ${u.name}`;if(u.registeredClass.constructor_body===void 0&&(u.registeredClass.constructor_body=[]),u.registeredClass.constructor_body[t-1]!==void 0)throw new Pe(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${u.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return u.registeredClass.constructor_body[t-1]=()=>{Ze(`Cannot construct ${u.name} due to unbound types`,f)},be([],f,function(y){return y.splice(1,0,null),u.registeredClass.constructor_body[t-1]=Pt(h,y,null,s,c),[]}),[]})}function Wn(e,t,r,i,s,c,f,u,h){var y=St(r,i);t=Y(t),c=Z(s,c),be([],[e],function(w){w=w[0];var P=`${w.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&w.registeredClass.pureVirtualFunctions.push(t);function E(){Ze(`Cannot call ${P} due to unbound types`,y)}var M=w.registeredClass.instancePrototype,W=M[t];return W===void 0||W.overloadTable===void 0&&W.className!==w.name&&W.argCount===r-2?(E.argCount=r-2,E.className=w.name,M[t]=E):(Vt(M,t,P),M[t].overloadTable[r-2]=E),be([],y,function(z){var I=Pt(P,z,w,c,f);return M[t].overloadTable===void 0?(I.argCount=r-2,M[t]=I):M[t].overloadTable[r-2]=I,[]}),[]})}function In(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.has=function(e){return this.allocated[e]!==void 0},this.allocate=function(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}}var Q=new In;function Yt(e){e>=Q.reserved&&--Q.get(e).refcount===0&&Q.free(e)}function Hn(){for(var e=0,t=Q.reserved;t<Q.allocated.length;++t)Q.allocated[t]!==void 0&&++e;return e}function Nn(){Q.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Q.reserved=Q.allocated.length,o.count_emval_handles=Hn}var Xe={toValue:e=>(e||R("Cannot use deleted val. handle = "+e),Q.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Q.allocate({refcount:1,value:e})}}};function Ln(e,t){t=Y(t),ie(e,{name:t,fromWireType:function(r){var i=Xe.toValue(r);return Yt(r),i},toWireType:function(r,i){return Xe.toHandle(i)},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:null})}function $t(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Vn(e,t){switch(t){case 2:return function(r){return this.fromWireType(Ie[r>>2])};case 3:return function(r){return this.fromWireType(He[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function zn(e,t,r){var i=wt(r);t=Y(t),ie(e,{name:t,fromWireType:function(s){return s},toWireType:function(s,c){return c},argPackAdvance:8,readValueFromPointer:Vn(t,i),destructorFunction:null})}function Bn(e,t,r,i,s,c,f){var u=St(t,r);e=Y(e),s=Z(i,s),zt(e,function(){Ze(`Cannot call ${e} due to unbound types`,u)},t-1),be([],u,function(h){var y=[h[0],null].concat(h.slice(1));return Bt(e,Pt(e,y,null,s,c),t-1),[]})}function qn(e,t,r){switch(t){case 0:return r?function(i){return G[i]}:function(i){return q[i]};case 1:return r?function(i){return re[i>>1]}:function(i){return ve[i>>1]};case 2:return r?function(i){return H[i>>2]}:function(i){return N[i>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Gn(e,t,r,i,s){t=Y(t);var c=wt(r),f=P=>P;if(i===0){var u=32-8*r;f=P=>P<<u>>>u}var h=t.includes("unsigned"),y=(P,E)=>{},w;h?w=function(P,E){return y(E,this.name),E>>>0}:w=function(P,E){return y(E,this.name),E},ie(e,{name:t,fromWireType:f,toWireType:w,argPackAdvance:8,readValueFromPointer:qn(t,c,i!==0),destructorFunction:null})}function Yn(e,t,r){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=i[t];function c(f){f=f>>2;var u=N,h=u[f],y=u[f+1];return new s(u.buffer,y,h)}r=Y(r),ie(e,{name:r,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{ignoreDuplicateRegistrations:!0})}function Jt(e,t,r,i){if(!(i>0))return 0;for(var s=r,c=r+i-1,f=0;f<e.length;++f){var u=e.charCodeAt(f);if(u>=55296&&u<=57343){var h=e.charCodeAt(++f);u=65536+((u&1023)<<10)|h&1023}if(u<=127){if(r>=c)break;t[r++]=u}else if(u<=2047){if(r+1>=c)break;t[r++]=192|u>>6,t[r++]=128|u&63}else if(u<=65535){if(r+2>=c)break;t[r++]=224|u>>12,t[r++]=128|u>>6&63,t[r++]=128|u&63}else{if(r+3>=c)break;t[r++]=240|u>>18,t[r++]=128|u>>12&63,t[r++]=128|u>>6&63,t[r++]=128|u&63}}return t[r]=0,r-s}function Jn(e,t,r){return Jt(e,q,t,r)}function Qt(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3}return t}var Kt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Qn(e,t,r){for(var i=t+r,s=t;e[s]&&!(s>=i);)++s;if(s-t>16&&e.buffer&&Kt)return Kt.decode(e.subarray(t,s));for(var c="";t<s;){var f=e[t++];if(!(f&128)){c+=String.fromCharCode(f);continue}var u=e[t++]&63;if((f&224)==192){c+=String.fromCharCode((f&31)<<6|u);continue}var h=e[t++]&63;if((f&240)==224?f=(f&15)<<12|u<<6|h:f=(f&7)<<18|u<<12|h<<6|e[t++]&63,f<65536)c+=String.fromCharCode(f);else{var y=f-65536;c+=String.fromCharCode(55296|y>>10,56320|y&1023)}}return c}function Et(e,t){return e?Qn(q,e,t):""}function Kn(e,t){t=Y(t);var r=t==="std::string";ie(e,{name:t,fromWireType:function(i){var s=N[i>>2],c=i+4,f;if(r)for(var u=c,h=0;h<=s;++h){var y=c+h;if(h==s||q[y]==0){var w=y-u,P=Et(u,w);f===void 0?f=P:(f+=String.fromCharCode(0),f+=P),u=y+1}}else{for(var E=new Array(s),h=0;h<s;++h)E[h]=String.fromCharCode(q[c+h]);f=E.join("")}return se(i),f},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var c,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||R("Cannot pass non-string to std::string"),r&&f?c=Qt(s):c=s.length;var u=kt(4+c+1),h=u+4;if(N[u>>2]=c,r&&f)Jn(s,h,c+1);else if(f)for(var y=0;y<c;++y){var w=s.charCodeAt(y);w>255&&(se(h),R("String has UTF-16 code units that do not fit in 8 bits")),q[h+y]=w}else for(var y=0;y<c;++y)q[h+y]=s[y];return i!==null&&i.push(se,u),u},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:function(i){se(i)}})}var Zt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Zn(e,t){for(var r=e,i=r>>1,s=i+t/2;!(i>=s)&&ve[i];)++i;if(r=i<<1,r-e>32&&Zt)return Zt.decode(q.subarray(e,r));for(var c="",f=0;!(f>=t/2);++f){var u=re[e+f*2>>1];if(u==0)break;c+=String.fromCharCode(u)}return c}function Xn(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var i=t,s=r<e.length*2?r/2:e.length,c=0;c<s;++c){var f=e.charCodeAt(c);re[t>>1]=f,t+=2}return re[t>>1]=0,t-i}function eo(e){return e.length*2}function to(e,t){for(var r=0,i="";!(r>=t/4);){var s=H[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var c=s-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}else i+=String.fromCharCode(s)}return i}function ro(e,t,r){if(r===void 0&&(r=2147483647),r<4)return 0;for(var i=t,s=i+r-4,c=0;c<e.length;++c){var f=e.charCodeAt(c);if(f>=55296&&f<=57343){var u=e.charCodeAt(++c);f=65536+((f&1023)<<10)|u&1023}if(H[t>>2]=f,t+=4,t+4>s)break}return H[t>>2]=0,t-i}function no(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&++r,t+=4}return t}function oo(e,t,r){r=Y(r);var i,s,c,f,u;t===2?(i=Zn,s=Xn,f=eo,c=()=>ve,u=1):t===4&&(i=to,s=ro,f=no,c=()=>N,u=2),ie(e,{name:r,fromWireType:function(h){for(var y=N[h>>2],w=c(),P,E=h+4,M=0;M<=y;++M){var W=h+4+M*t;if(M==y||w[W>>u]==0){var z=W-E,I=i(E,z);P===void 0?P=I:(P+=String.fromCharCode(0),P+=I),E=W+t}}return se(h),P},toWireType:function(h,y){typeof y!="string"&&R(`Cannot pass non-string to C++ string type ${r}`);var w=f(y),P=kt(4+w+t);return N[P>>2]=w>>u,s(y,P+4,w+t),h!==null&&h.push(se,P),P},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:function(h){se(h)}})}function io(e,t,r,i,s,c){Ge[e]={name:Y(t),rawConstructor:Z(r,i),rawDestructor:Z(s,c),fields:[]}}function ao(e,t,r,i,s,c,f,u,h,y){Ge[e].fields.push({fieldName:Y(t),getterReturnType:r,getter:Z(i,s),getterContext:c,setterArgumentType:f,setter:Z(u,h),setterContext:y})}function so(e,t){t=Y(t),ie(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(r,i){}})}function co(e){e>4&&(Q.get(e).refcount+=1)}function uo(e,t){var r=we[e];return r===void 0&&R(t+" has unknown type "+Gt(e)),r}function lo(e,t){e=uo(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Xe.toHandle(r)}function fo(){Te("")}function po(e,t,r){q.copyWithin(e,t,t+r)}function ho(){return 2147483648}function mo(e){var t=O.buffer,r=e-t.byteLength+65535>>>16;try{return O.grow(r),Ne(),1}catch{}}function vo(e){var t=q.length;e=e>>>0;var r=ho();if(e>r)return!1;for(var i=(h,y)=>h+(y-h%y)%y,s=1;s<=4;s*=2){var c=t*(1+.2/s);c=Math.min(c,e+100663296);var f=Math.min(r,i(Math.max(e,c),65536)),u=mo(f);if(u)return!0}return!1}var Ot={};function yo(){return v||"./this.program"}function je(){if(!je.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:yo()};for(var r in Ot)Ot[r]===void 0?delete t[r]:t[r]=Ot[r];var i=[];for(var r in t)i.push(`${r}=${t[r]}`);je.strings=i}return je.strings}function go(e,t){for(var r=0;r<e.length;++r)G[t++>>0]=e.charCodeAt(r);G[t>>0]=0}function wo(e,t){var r=0;return je().forEach(function(i,s){var c=t+r;N[e+s*4>>2]=c,go(i,c),r+=i.length+1}),0}function bo(e,t){var r=je();N[e>>2]=r.length;var i=0;return r.forEach(function(s){i+=s.length+1}),N[t>>2]=i,0}function _o(e){return e}function et(e){return e%4===0&&(e%100!==0||e%400===0)}function Co(e,t){for(var r=0,i=0;i<=t;r+=e[i++]);return r}var Xt=[31,29,31,30,31,30,31,31,30,31,30,31],er=[31,28,31,30,31,30,31,31,30,31,30,31];function To(e,t){for(var r=new Date(e.getTime());t>0;){var i=et(r.getFullYear()),s=r.getMonth(),c=(i?Xt:er)[s];if(t>c-r.getDate())t-=c-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r}function So(e,t,r){var i=r>0?r:Qt(e)+1,s=new Array(i),c=Jt(e,s,0,s.length);return t&&(s.length=c),s}function Po(e,t){G.set(e,t)}function $o(e,t,r,i){var s=H[i+40>>2],c={tm_sec:H[i>>2],tm_min:H[i+4>>2],tm_hour:H[i+8>>2],tm_mday:H[i+12>>2],tm_mon:H[i+16>>2],tm_year:H[i+20>>2],tm_wday:H[i+24>>2],tm_yday:H[i+28>>2],tm_isdst:H[i+32>>2],tm_gmtoff:H[i+36>>2],tm_zone:s?Et(s):""},f=Et(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var h in u)f=f.replace(new RegExp(h,"g"),u[h]);var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function P(g,T,L){for(var V=typeof g=="number"?g.toString():g||"";V.length<T;)V=L[0]+V;return V}function E(g,T){return P(g,T,"0")}function M(g,T){function L(_e){return _e<0?-1:_e>0?1:0}var V;return(V=L(g.getFullYear()-T.getFullYear()))===0&&(V=L(g.getMonth()-T.getMonth()))===0&&(V=L(g.getDate()-T.getDate())),V}function W(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function z(g){var T=To(new Date(g.tm_year+1900,0,1),g.tm_yday),L=new Date(T.getFullYear(),0,4),V=new Date(T.getFullYear()+1,0,4),_e=W(L),rt=W(V);return M(_e,T)<=0?M(rt,T)<=0?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}var I={"%a":function(g){return y[g.tm_wday].substring(0,3)},"%A":function(g){return y[g.tm_wday]},"%b":function(g){return w[g.tm_mon].substring(0,3)},"%B":function(g){return w[g.tm_mon]},"%C":function(g){var T=g.tm_year+1900;return E(T/100|0,2)},"%d":function(g){return E(g.tm_mday,2)},"%e":function(g){return P(g.tm_mday,2," ")},"%g":function(g){return z(g).toString().substring(2)},"%G":function(g){return z(g)},"%H":function(g){return E(g.tm_hour,2)},"%I":function(g){var T=g.tm_hour;return T==0?T=12:T>12&&(T-=12),E(T,2)},"%j":function(g){return E(g.tm_mday+Co(et(g.tm_year+1900)?Xt:er,g.tm_mon-1),3)},"%m":function(g){return E(g.tm_mon+1,2)},"%M":function(g){return E(g.tm_min,2)},"%n":function(){return`
`},"%p":function(g){return g.tm_hour>=0&&g.tm_hour<12?"AM":"PM"},"%S":function(g){return E(g.tm_sec,2)},"%t":function(){return"	"},"%u":function(g){return g.tm_wday||7},"%U":function(g){var T=g.tm_yday+7-g.tm_wday;return E(Math.floor(T/7),2)},"%V":function(g){var T=Math.floor((g.tm_yday+7-(g.tm_wday+6)%7)/7);if((g.tm_wday+371-g.tm_yday-2)%7<=2&&T++,T){if(T==53){var L=(g.tm_wday+371-g.tm_yday)%7;L!=4&&(L!=3||!et(g.tm_year))&&(T=1)}}else{T=52;var V=(g.tm_wday+7-g.tm_yday-1)%7;(V==4||V==5&&et(g.tm_year%400-1))&&T++}return E(T,2)},"%w":function(g){return g.tm_wday},"%W":function(g){var T=g.tm_yday+7-(g.tm_wday+6)%7;return E(Math.floor(T/7),2)},"%y":function(g){return(g.tm_year+1900).toString().substring(2)},"%Y":function(g){return g.tm_year+1900},"%z":function(g){var T=g.tm_gmtoff,L=T>=0;return T=Math.abs(T)/60,T=T/60*100+T%60,(L?"+":"-")+("0000"+T).slice(-4)},"%Z":function(g){return g.tm_zone},"%%":function(){return"%"}};f=f.replace(/%%/g,"\0\0");for(var h in I)f.includes(h)&&(f=f.replace(new RegExp(h,"g"),I[h](c)));f=f.replace(/\0\0/g,"%");var B=So(f,!1);return B.length>t?0:(Po(B,e),B.length-1)}function Eo(e,t,r,i,s){return $o(e,t,r,i)}Ut=o.InternalError=gt(Error,"InternalError"),cn(),Pe=o.BindingError=gt(Error,"BindingError"),Sn(),vn(),An(),qt=o.UnboundTypeError=gt(Error,"UnboundTypeError"),Nn();var Oo={q:Gr,v:Yr,a:Qr,h:Kr,l:Zr,J:Xr,S:en,n:tn,_:rn,d:Jr,ma:an,V:sn,ca:un,la:Fn,ka:Un,F:Wn,ba:Ln,R:zn,T:Bn,y:Gn,t:Yn,Q:Kn,L:oo,O:io,na:ao,da:so,ha:Yt,ia:co,ja:lo,K:fo,aa:po,$:vo,Y:wo,Z:bo,B:Go,P:ri,E:Yo,p:zo,b:ko,w:qo,fa:Qo,c:Mo,i:Io,j:Lo,r:Ho,z:Bo,x:Vo,I:Zo,N:Xo,D:Jo,H:ni,W:ii,U:ai,k:jo,g:Ao,e:xo,f:Do,M:ti,m:No,o:Ro,ga:Uo,u:Wo,ea:ei,A:Ko,s:Fo,G:oi,C:_o,X:Eo};qr();var se=o._free=function(){return(se=o._free=o.asm.qa).apply(null,arguments)},kt=o._malloc=function(){return(kt=o._malloc=o.asm.ra).apply(null,arguments)},tr=function(){return(tr=o.asm.ta).apply(null,arguments)};o.__embind_initialize_bindings=function(){return(o.__embind_initialize_bindings=o.asm.ua).apply(null,arguments)};var D=function(){return(D=o.asm.va).apply(null,arguments)},Re=function(){return(Re=o.asm.wa).apply(null,arguments)},x=function(){return(x=o.asm.xa).apply(null,arguments)},A=function(){return(A=o.asm.ya).apply(null,arguments)},rr=function(){return(rr=o.asm.za).apply(null,arguments)},nr=function(){return(nr=o.asm.Aa).apply(null,arguments)},or=function(){return(or=o.asm.Ba).apply(null,arguments)},ir=function(){return(ir=o.asm.Ca).apply(null,arguments)};o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.Da).apply(null,arguments)};var ar=o.dynCall_jiii=function(){return(ar=o.dynCall_jiii=o.asm.Ea).apply(null,arguments)},sr=o.dynCall_jiiii=function(){return(sr=o.dynCall_jiiii=o.asm.Fa).apply(null,arguments)};o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.Ga).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.Ha).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.Ia).apply(null,arguments)};function ko(e,t){var r=x();try{return F(e)(t)}catch(i){if(A(r),i!==i+0)throw i;D(1,0)}}function Do(e,t,r,i){var s=x();try{F(e)(t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function xo(e,t,r){var i=x();try{F(e)(t,r)}catch(s){if(A(i),s!==s+0)throw s;D(1,0)}}function Ao(e,t){var r=x();try{F(e)(t)}catch(i){if(A(r),i!==i+0)throw i;D(1,0)}}function Mo(e,t,r){var i=x();try{return F(e)(t,r)}catch(s){if(A(i),s!==s+0)throw s;D(1,0)}}function jo(e){var t=x();try{F(e)()}catch(r){if(A(t),r!==r+0)throw r;D(1,0)}}function Ro(e,t,r,i,s,c){var f=x();try{F(e)(t,r,i,s,c)}catch(u){if(A(f),u!==u+0)throw u;D(1,0)}}function Fo(e,t,r,i,s,c,f,u,h,y,w){var P=x();try{F(e)(t,r,i,s,c,f,u,h,y,w)}catch(E){if(A(P),E!==E+0)throw E;D(1,0)}}function Uo(e,t,r,i,s,c,f){var u=x();try{F(e)(t,r,i,s,c,f)}catch(h){if(A(u),h!==h+0)throw h;D(1,0)}}function Wo(e,t,r,i,s,c,f,u){var h=x();try{F(e)(t,r,i,s,c,f,u)}catch(y){if(A(h),y!==y+0)throw y;D(1,0)}}function Io(e,t,r,i){var s=x();try{return F(e)(t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function Ho(e,t,r,i,s,c){var f=x();try{return F(e)(t,r,i,s,c)}catch(u){if(A(f),u!==u+0)throw u;D(1,0)}}function No(e,t,r,i,s){var c=x();try{F(e)(t,r,i,s)}catch(f){if(A(c),f!==f+0)throw f;D(1,0)}}function Lo(e,t,r,i,s){var c=x();try{return F(e)(t,r,i,s)}catch(f){if(A(c),f!==f+0)throw f;D(1,0)}}function Vo(e,t,r,i,s,c,f){var u=x();try{return F(e)(t,r,i,s,c,f)}catch(h){if(A(u),h!==h+0)throw h;D(1,0)}}function zo(e){var t=x();try{return F(e)()}catch(r){if(A(t),r!==r+0)throw r;D(1,0)}}function Bo(e,t,r,i,s,c,f){var u=x();try{return F(e)(t,r,i,s,c,f)}catch(h){if(A(u),h!==h+0)throw h;D(1,0)}}function qo(e,t,r,i){var s=x();try{return F(e)(t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function Go(e,t,r,i){var s=x();try{return F(e)(t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function Yo(e,t,r,i,s,c){var f=x();try{return F(e)(t,r,i,s,c)}catch(u){if(A(f),u!==u+0)throw u;D(1,0)}}function Jo(e,t,r,i,s,c,f,u,h,y){var w=x();try{return F(e)(t,r,i,s,c,f,u,h,y)}catch(P){if(A(w),P!==P+0)throw P;D(1,0)}}function Qo(e,t,r){var i=x();try{return F(e)(t,r)}catch(s){if(A(i),s!==s+0)throw s;D(1,0)}}function Ko(e,t,r,i,s,c,f,u,h,y){var w=x();try{F(e)(t,r,i,s,c,f,u,h,y)}catch(P){if(A(w),P!==P+0)throw P;D(1,0)}}function Zo(e,t,r,i,s,c,f,u){var h=x();try{return F(e)(t,r,i,s,c,f,u)}catch(y){if(A(h),y!==y+0)throw y;D(1,0)}}function Xo(e,t,r,i,s,c,f,u,h){var y=x();try{return F(e)(t,r,i,s,c,f,u,h)}catch(w){if(A(y),w!==w+0)throw w;D(1,0)}}function ei(e,t,r,i,s,c,f,u,h){var y=x();try{F(e)(t,r,i,s,c,f,u,h)}catch(w){if(A(y),w!==w+0)throw w;D(1,0)}}function ti(e,t,r,i,s,c,f){var u=x();try{F(e)(t,r,i,s,c,f)}catch(h){if(A(u),h!==h+0)throw h;D(1,0)}}function ri(e,t,r,i){var s=x();try{return F(e)(t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function ni(e,t,r,i,s,c,f,u,h,y,w,P){var E=x();try{return F(e)(t,r,i,s,c,f,u,h,y,w,P)}catch(M){if(A(E),M!==M+0)throw M;D(1,0)}}function oi(e,t,r,i,s,c,f,u,h,y,w,P,E,M,W,z){var I=x();try{F(e)(t,r,i,s,c,f,u,h,y,w,P,E,M,W,z)}catch(B){if(A(I),B!==B+0)throw B;D(1,0)}}function ii(e,t,r,i){var s=x();try{return ar(e,t,r,i)}catch(c){if(A(s),c!==c+0)throw c;D(1,0)}}function ai(e,t,r,i,s){var c=x();try{return sr(e,t,r,i,s)}catch(f){if(A(c),f!==f+0)throw f;D(1,0)}}var tt;ye=function e(){tt||cr(),tt||(ye=e)};function cr(){if(ne>0||(le(),ne>0))return;function e(){tt||(tt=!0,o.calledRun=!0,!j&&(ee(),l(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),dt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return cr(),a.ready}})();function ji(n){return Sr(Pr,n)}async function Ri(n,{tryHarder:a=pe.tryHarder,formats:o=pe.formats,maxNumberOfSymbols:l=pe.maxNumberOfSymbols}=pe){return xi(n,{tryHarder:a,formats:o,maxNumberOfSymbols:l},Pr)}const Fi=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"],$r=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Ui(n){for(const[a,o]of $r)if(n===o)return a;return"unknown"}var st;class Wi{constructor(a={}){mi(this,st,void 0),ji(),vi(this,st,(a==null?void 0:a.formats)??[])}static async getSupportedFormats(){return Fi}async detect(a){const o=await Oi(a);return o.width===0||o.height===0?[]:(await Ri(o,{tryHarder:!0,formats:hi(this,st).map(l=>$r.get(l))})).map(l=>{const{topLeft:{x:p,y:d},topRight:{x:v,y:S},bottomLeft:{x:m,y:b},bottomRight:{x:C,y:_}}=l.position,k=Math.min(p,v,m,C),$=Math.min(d,S,b,_),O=Math.max(p,v,m,C),j=Math.max(d,S,b,_);return{boundingBox:new DOMRectReadOnly(k,$,O-k,j-$),rawValue:l.text,format:Ui(l.format),cornerPoints:[{x:p,y:d},{x:v,y:S},{x:C,y:_},{x:m,y:b}]}})}}st=new WeakMap;globalThis.BarcodeDetector??(globalThis.BarcodeDetector=Wi);const Er=(n,a,o="error")=>{let l,p;const d=new Promise((v,S)=>{l=v,p=S,n.addEventListener(a,l),n.addEventListener(o,p)});return d.finally(()=>{n.removeEventListener(a,l),n.removeEventListener(o,p)}),d},yr=n=>new Promise(a=>setTimeout(a,n));class Ii extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class Or extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Hi extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Ni extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}const Li=async(n,{detectHandler:a,locateHandler:o,minDelay:l})=>{const p=new BarcodeDetector({formats:["qr_code"]}),d=v=>async S=>{if(n.readyState>1){const{lastScanned:m,contentBefore:b,lastScanHadContent:C}=v;if(S-m<l)window.requestAnimationFrame(d(v));else{const _=await p.detect(n),k=_.some(j=>!b.includes(j.rawValue));k&&a(_);const $=_.length>0;$&&o(_),!$&&C&&o(_);const O={lastScanned:S,lastScanHadContent:$,contentBefore:k?_.map(j=>j.rawValue):b};window.requestAnimationFrame(d(O))}}};d({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())},Vi=async n=>{if(n.startsWith("http")&&n.includes(location.host)===!1)throw new Ii;const a=document.createElement("img");return a.src=n,await Er(a,"load"),a},kr=async n=>await new BarcodeDetector({formats:["qr_code"]}).detect(n),zi=async n=>{const a=new BarcodeDetector({formats:["qr_code"]}),o=await Vi(n);return await a.detect(o)};var Dr={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.compactObject=Mr;J.deprecated=Xi;var Bi=J.detectBrowser=ea;J.disableLog=Qi;J.disableWarnings=Ki;J.extractVersion=ct;J.filterStats=ta;J.log=Zi;J.walkStats=ut;J.wrapPeerConnectionEvent=Ji;function qi(n,a,o){return a=Gi(a),a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n}function Gi(n){var a=Yi(n,"string");return he(a)==="symbol"?a:String(a)}function Yi(n,a){if(he(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var l=o.call(n,a||"default");if(he(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function he(n){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},he(n)}var xr=!0,Ar=!0;function ct(n,a,o){var l=n.match(a);return l&&l.length>=o&&parseInt(l[o],10)}function Ji(n,a,o){if(n.RTCPeerConnection){var l=n.RTCPeerConnection.prototype,p=l.addEventListener;l.addEventListener=function(v,S){if(v!==a)return p.apply(this,arguments);var m=function(b){var C=o(b);C&&(S.handleEvent?S.handleEvent(C):S(C))};return this._eventMap=this._eventMap||{},this._eventMap[a]||(this._eventMap[a]=new Map),this._eventMap[a].set(S,m),p.apply(this,[v,m])};var d=l.removeEventListener;l.removeEventListener=function(v,S){if(v!==a||!this._eventMap||!this._eventMap[a])return d.apply(this,arguments);if(!this._eventMap[a].has(S))return d.apply(this,arguments);var m=this._eventMap[a].get(S);return this._eventMap[a].delete(S),this._eventMap[a].size===0&&delete this._eventMap[a],Object.keys(this._eventMap).length===0&&delete this._eventMap,d.apply(this,[v,m])},Object.defineProperty(l,"on"+a,{get:function(){return this["_on"+a]},set:function(v){this["_on"+a]&&(this.removeEventListener(a,this["_on"+a]),delete this["_on"+a]),v&&this.addEventListener(a,this["_on"+a]=v)},enumerable:!0,configurable:!0})}}function Qi(n){return typeof n!="boolean"?new Error("Argument type: "+he(n)+". Please use a boolean."):(xr=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function Ki(n){return typeof n!="boolean"?new Error("Argument type: "+he(n)+". Please use a boolean."):(Ar=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Zi(){if((typeof window>"u"?"undefined":he(window))==="object"){if(xr)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Xi(n,a){Ar&&console.warn(n+" is deprecated, please use "+a+" instead.")}function ea(n){var a={browser:null,version:null};if(typeof n>"u"||!n.navigator)return a.browser="Not a browser.",a;var o=n.navigator;if(o.mozGetUserMedia)a.browser="firefox",a.version=ct(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)a.browser="chrome",a.version=ct(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))a.browser="safari",a.version=ct(o.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return a.browser="Not a supported browser.",a;return a}function gr(n){return Object.prototype.toString.call(n)==="[object Object]"}function Mr(n){return gr(n)?Object.keys(n).reduce(function(a,o){var l=gr(n[o]),p=l?Mr(n[o]):n[o],d=l&&!Object.keys(p).length;return p===void 0||d?a:Object.assign(a,qi({},o,p))},{}):n}function ut(n,a,o){!a||o.has(a.id)||(o.set(a.id,a),Object.keys(a).forEach(function(l){l.endsWith("Id")?ut(n,n.get(a[l]),o):l.endsWith("Ids")&&a[l].forEach(function(p){ut(n,n.get(p),o)})}))}function ta(n,a,o){var l=o?"outbound-rtp":"inbound-rtp",p=new Map;if(a===null)return p;var d=[];return n.forEach(function(v){v.type==="track"&&v.trackIdentifier===a.id&&d.push(v)}),d.forEach(function(v){n.forEach(function(S){S.type===l&&S.trackId===v.id&&ut(n,S,p)})}),p}Object.defineProperty(Dr,"__esModule",{value:!0});var ra=Dr.shimGetUserMedia=ia,na=oa(J);function jr(n){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(jr=function(l){return l?o:a})(n)}function oa(n,a){if(!a&&n&&n.__esModule)return n;if(n===null||de(n)!=="object"&&typeof n!="function")return{default:n};var o=jr(a);if(o&&o.has(n))return o.get(n);var l={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var v=p?Object.getOwnPropertyDescriptor(n,d):null;v&&(v.get||v.set)?Object.defineProperty(l,d,v):l[d]=n[d]}return l.default=n,o&&o.set(n,l),l}function de(n){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},de(n)}var wr=na.log;function ia(n,a){var o=n&&n.navigator;if(o.mediaDevices){var l=function(m){if(de(m)!=="object"||m.mandatory||m.optional)return m;var b={};return Object.keys(m).forEach(function(C){if(!(C==="require"||C==="advanced"||C==="mediaSource")){var _=de(m[C])==="object"?m[C]:{ideal:m[C]};_.exact!==void 0&&typeof _.exact=="number"&&(_.min=_.max=_.exact);var k=function(O,j){return O?O+j.charAt(0).toUpperCase()+j.slice(1):j==="deviceId"?"sourceId":j};if(_.ideal!==void 0){b.optional=b.optional||[];var $={};typeof _.ideal=="number"?($[k("min",C)]=_.ideal,b.optional.push($),$={},$[k("max",C)]=_.ideal,b.optional.push($)):($[k("",C)]=_.ideal,b.optional.push($))}_.exact!==void 0&&typeof _.exact!="number"?(b.mandatory=b.mandatory||{},b.mandatory[k("",C)]=_.exact):["min","max"].forEach(function(O){_[O]!==void 0&&(b.mandatory=b.mandatory||{},b.mandatory[k(O,C)]=_[O])})}}),m.advanced&&(b.optional=(b.optional||[]).concat(m.advanced)),b},p=function(m,b){if(a.version>=61)return b(m);if(m=JSON.parse(JSON.stringify(m)),m&&de(m.audio)==="object"){var C=function(O,j,K){j in O&&!(K in O)&&(O[K]=O[j],delete O[j])};m=JSON.parse(JSON.stringify(m)),C(m.audio,"autoGainControl","googAutoGainControl"),C(m.audio,"noiseSuppression","googNoiseSuppression"),m.audio=l(m.audio)}if(m&&de(m.video)==="object"){var _=m.video.facingMode;_=_&&(de(_)==="object"?_:{ideal:_});var k=a.version<66;if(_&&(_.exact==="user"||_.exact==="environment"||_.ideal==="user"||_.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!k)){delete m.video.facingMode;var $;if(_.exact==="environment"||_.ideal==="environment"?$=["back","rear"]:(_.exact==="user"||_.ideal==="user")&&($=["front"]),$)return o.mediaDevices.enumerateDevices().then(function(O){O=O.filter(function(K){return K.kind==="videoinput"});var j=O.find(function(K){return $.some(function(G){return K.label.toLowerCase().includes(G)})});return!j&&O.length&&$.includes("back")&&(j=O[O.length-1]),j&&(m.video.deviceId=_.exact?{exact:j.deviceId}:{ideal:j.deviceId}),m.video=l(m.video),wr("chrome: "+JSON.stringify(m)),b(m)})}m.video=l(m.video)}return wr("chrome: "+JSON.stringify(m)),b(m)},d=function(m){return a.version>=64?m:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[m.name]||m.name,message:m.message,constraint:m.constraint||m.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},v=function(m,b,C){p(m,function(_){o.webkitGetUserMedia(_,b,function(k){C&&C(d(k))})})};if(o.getUserMedia=v.bind(o),o.mediaDevices.getUserMedia){var S=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(m){return p(m,function(b){return S(b).then(function(C){if(b.audio&&!C.getAudioTracks().length||b.video&&!C.getVideoTracks().length)throw C.getTracks().forEach(function(_){_.stop()}),new DOMException("","NotFoundError");return C},function(C){return Promise.reject(d(C))})})}}}}var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});var aa=Rr.shimGetUserMedia=ua,sa=ca(J);function Fr(n){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(Fr=function(l){return l?o:a})(n)}function ca(n,a){if(!a&&n&&n.__esModule)return n;if(n===null||Ee(n)!=="object"&&typeof n!="function")return{default:n};var o=Fr(a);if(o&&o.has(n))return o.get(n);var l={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var v=p?Object.getOwnPropertyDescriptor(n,d):null;v&&(v.get||v.set)?Object.defineProperty(l,d,v):l[d]=n[d]}return l.default=n,o&&o.set(n,l),l}function Ee(n){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ee(n)}function ua(n,a){var o=n&&n.navigator,l=n&&n.MediaStreamTrack;if(o.getUserMedia=function(m,b,C){sa.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(m).then(b,C)},!(a.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var p=function(m,b,C){b in m&&!(C in m)&&(m[C]=m[b],delete m[b])},d=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(m){return Ee(m)==="object"&&Ee(m.audio)==="object"&&(m=JSON.parse(JSON.stringify(m)),p(m.audio,"autoGainControl","mozAutoGainControl"),p(m.audio,"noiseSuppression","mozNoiseSuppression")),d(m)},l&&l.prototype.getSettings){var v=l.prototype.getSettings;l.prototype.getSettings=function(){var m=v.apply(this,arguments);return p(m,"mozAutoGainControl","autoGainControl"),p(m,"mozNoiseSuppression","noiseSuppression"),m}}if(l&&l.prototype.applyConstraints){var S=l.prototype.applyConstraints;l.prototype.applyConstraints=function(m){return this.kind==="audio"&&Ee(m)==="object"&&(m=JSON.parse(JSON.stringify(m)),p(m,"autoGainControl","mozAutoGainControl"),p(m,"noiseSuppression","mozNoiseSuppression")),S.apply(this,[m])}}}}var te={};Object.defineProperty(te,"__esModule",{value:!0});te.shimAudioContext=wa;te.shimCallbacksAPI=ha;te.shimConstraints=Ir;te.shimCreateOfferLegacy=ga;var la=te.shimGetUserMedia=ma;te.shimLocalStreamsAPI=da;te.shimRTCIceServerUrls=va;te.shimRemoteStreamsAPI=pa;te.shimTrackEventTransceiver=ya;var Ur=fa(J);function Wr(n){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(Wr=function(l){return l?o:a})(n)}function fa(n,a){if(!a&&n&&n.__esModule)return n;if(n===null||me(n)!=="object"&&typeof n!="function")return{default:n};var o=Wr(a);if(o&&o.has(n))return o.get(n);var l={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in n)if(d!=="default"&&Object.prototype.hasOwnProperty.call(n,d)){var v=p?Object.getOwnPropertyDescriptor(n,d):null;v&&(v.get||v.set)?Object.defineProperty(l,d,v):l[d]=n[d]}return l.default=n,o&&o.set(n,l),l}function me(n){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},me(n)}function da(n){if(!(me(n)!=="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){var a=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(o){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(function(p){return a.call(l,p,o)}),o.getVideoTracks().forEach(function(p){return a.call(l,p,o)})},n.RTCPeerConnection.prototype.addTrack=function(o){for(var l=this,p=arguments.length,d=new Array(p>1?p-1:0),v=1;v<p;v++)d[v-1]=arguments[v];return d&&d.forEach(function(S){l._localStreams?l._localStreams.includes(S)||l._localStreams.push(S):l._localStreams=[S]}),a.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){var l=this;this._localStreams||(this._localStreams=[]);var p=this._localStreams.indexOf(o);if(p!==-1){this._localStreams.splice(p,1);var d=o.getTracks();this.getSenders().forEach(function(v){d.includes(v.track)&&l.removeTrack(v)})}})}}function pa(n){if(!(me(n)!=="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(o){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=function(p){p.streams.forEach(function(d){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(d)){l._remoteStreams.push(d);var v=new Event("addstream");v.stream=d,l.dispatchEvent(v)}})})}});var a=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(p){if(o._remoteStreams||(o._remoteStreams=[]),!(o._remoteStreams.indexOf(p)>=0)){o._remoteStreams.push(p);var d=new Event("addstream");d.stream=p,o.dispatchEvent(d)}})}),a.apply(o,arguments)}}}function ha(n){if(!(me(n)!=="object"||!n.RTCPeerConnection)){var a=n.RTCPeerConnection.prototype,o=a.createOffer,l=a.createAnswer,p=a.setLocalDescription,d=a.setRemoteDescription,v=a.addIceCandidate;a.createOffer=function(m,b){var C=arguments.length>=2?arguments[2]:arguments[0],_=o.apply(this,[C]);return b?(_.then(m,b),Promise.resolve()):_},a.createAnswer=function(m,b){var C=arguments.length>=2?arguments[2]:arguments[0],_=l.apply(this,[C]);return b?(_.then(m,b),Promise.resolve()):_};var S=function(m,b,C){var _=p.apply(this,[m]);return C?(_.then(b,C),Promise.resolve()):_};a.setLocalDescription=S,S=function(m,b,C){var _=d.apply(this,[m]);return C?(_.then(b,C),Promise.resolve()):_},a.setRemoteDescription=S,S=function(m,b,C){var _=v.apply(this,[m]);return C?(_.then(b,C),Promise.resolve()):_},a.addIceCandidate=S}}function ma(n){var a=n&&n.navigator;if(a.mediaDevices&&a.mediaDevices.getUserMedia){var o=a.mediaDevices,l=o.getUserMedia.bind(o);a.mediaDevices.getUserMedia=function(p){return l(Ir(p))}}!a.getUserMedia&&a.mediaDevices&&a.mediaDevices.getUserMedia&&(a.getUserMedia=(function(p,d,v){a.mediaDevices.getUserMedia(p).then(d,v)}).bind(a))}function Ir(n){return n&&n.video!==void 0?Object.assign({},n,{video:Ur.compactObject(n.video)}):n}function va(n){if(n.RTCPeerConnection){var a=n.RTCPeerConnection;n.RTCPeerConnection=function(o,l){if(o&&o.iceServers){for(var p=[],d=0;d<o.iceServers.length;d++){var v=o.iceServers[d];v.urls===void 0&&v.url?(Ur.deprecated("RTCIceServer.url","RTCIceServer.urls"),v=JSON.parse(JSON.stringify(v)),v.urls=v.url,delete v.url,p.push(v)):p.push(o.iceServers[d])}o.iceServers=p}return new a(o,l)},n.RTCPeerConnection.prototype=a.prototype,"generateCertificate"in a&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:function(){return a.generateCertificate}})}}function ya(n){me(n)==="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ga(n){var a=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(o){if(o){typeof o.offerToReceiveAudio<"u"&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);var l=this.getTransceivers().find(function(d){return d.receiver.track.kind==="audio"});o.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):o.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof o.offerToReceiveVideo<"u"&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);var p=this.getTransceivers().find(function(d){return d.receiver.track.kind==="video"});o.offerToReceiveVideo===!1&&p?p.direction==="sendrecv"?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":p.direction==="recvonly"&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):o.offerToReceiveVideo===!0&&!p&&this.addTransceiver("video",{direction:"recvonly"})}return a.apply(this,arguments)}}function wa(n){me(n)!=="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const ba=n=>{let a=!1,o;return(...l)=>(a||(o=n(l),a=!0),o)},_a=ba(()=>{const n=Bi(window);switch(n.browser){case"chrome":ra(window,n);break;case"firefox":aa(window,n);break;case"safari":la(window,n);break;default:throw new Or}});let ce={isActive:!1};function Dt(){if(ce.isActive){ce.videoEl.src="",ce.videoEl.srcObject=null,ce.videoEl.load();for(const n of ce.stream.getTracks())ce.stream.removeTrack(n),n.stop();ce={isActive:!1}}}async function Ca(n,{constraints:a,torch:o}){var l,p;if(window.isSecureContext!==!0)throw new Hi;if(((l=navigator==null?void 0:navigator.mediaDevices)==null?void 0:l.getUserMedia)===void 0)throw new Or;_a();const d=await navigator.mediaDevices.getUserMedia({audio:!1,video:a});if(n.srcObject!==void 0?n.srcObject=d:n.mozSrcObject!==void 0?n.mozSrcObject=d:window.URL.createObjectURL?n.src=window.URL.createObjectURL(d):window.webkitURL?n.src=window.webkitURL.createObjectURL(d):n.src=d.id,await Promise.race([Er(n,"loadeddata"),yr(3e3).then(()=>{throw new Ni})]),await yr(500),o){const[S]=d.getVideoTracks();S.getCapabilities().torch?S.applyConstraints({advanced:[{torch:!0}]}):console.warn("device does not support torch capability")}ce={videoEl:n,stream:d,isActive:!0};const[v]=ce.stream.getVideoTracks();return((p=v==null?void 0:v.getCapabilities)==null?void 0:p.call(v))??{}}const Ta={class:"qrcode-stream-wrapper"},Sa={class:"qrcode-stream-overlay"},Pa=ft({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(n,{emit:a}){const o=n,l=Fe(),p=Fe(),d=Fe(),v=Fe(!1),S=Fe(!1);si(()=>{S.value=!0}),ci(()=>{Dt()});const m=ur(()=>({torch:o.torch,constraints:o.constraints,shouldStream:S.value&&!o.paused}));lr(m,async k=>{if(k.shouldStream)try{const $=await Ca(d.value,k);S.value?(v.value=!0,a("camera-on",$)):Dt()}catch($){a("error",$)}else{const $=l.value,O=$.getContext("2d"),j=d.value;$.width=j.videoWidth,$.height=j.videoHeight,O==null||O.drawImage(j,0,0,j.videoWidth,j.videoHeight),Dt(),v.value=!1,a("camera-off")}},{deep:!0});const b=ur(()=>m.value.shouldStream&&v.value);lr(b,k=>{if(k){C(l.value),C(p.value);const $=()=>o.track===void 0?500:40;Li(d.value,{detectHandler:O=>a("detect",O),locateHandler:_,minDelay:$()})}});const C=k=>{const $=k.getContext("2d");console.assert($!==void 0,"tried to clear canvas with undefined 2D context"),$.clearRect(0,0,k.width,k.height)},_=k=>{const $=p.value,O=d.value;if(console.assert($!==void 0&&O!==void 0,"onLocate handler called although component is not mounted"),k.length===0||o.track===void 0)C($);else{const j=O.offsetWidth,K=O.offsetHeight,G=O.videoWidth,q=O.videoHeight,re=Math.max(j/G,K/q),ve=G*re,H=q*re,N=ve/G,Ie=H/q,He=(j-ve)/2,Ne=(K-H)/2,Ce=({x:le,y:ee})=>({x:Math.floor(le*N),y:Math.floor(ee*Ie)}),Oe=({x:le,y:ee})=>({x:Math.floor(le+He),y:Math.floor(ee+Ne)}),Le=k.map(le=>{const{boundingBox:ee,cornerPoints:dt}=le,{x:pt,y:ht}=Oe(Ce({x:ee.x,y:ee.y})),{x:mt,y:ne}=Ce({x:ee.width,y:ee.height});return{...le,cornerPoints:dt.map(ye=>Oe(Ce(ye))),boundingBox:DOMRectReadOnly.fromRect({x:pt,y:ht,width:mt,height:ne})}});$.width=O.offsetWidth,$.height=O.offsetHeight;const Ve=$.getContext("2d");o.track(Le,Ve)}};return(k,$)=>(X(),ue("div",Ta,[U("video",{ref_key:"videoRef",ref:d,class:ui([{"qrcode-stream-camera--hidden":!b.value},"qrcode-stream-camera"]),autoplay:"",muted:"",playsinline:""},null,2),li(U("canvas",{ref_key:"pauseFrameRef",ref:l,class:"qrcode-stream-camera"},null,512),[[fi,!b.value]]),U("canvas",{ref_key:"trackingLayerRef",ref:p,class:"qrcode-stream-overlay"},null,512),U("div",Sa,[br(k.$slots,"default",{},void 0,!0)])]))}}),$a=(n,a)=>{const o=n.__vccOpts||n;for(const[l,p]of a)o[l]=p;return o},Hr=$a(Pa,[["__scopeId","data-v-44e7ec8a"]]),Ea=ft({__name:"QrcodeCapture",emits:["detect"],setup(n,{emit:a}){const o=async p=>{const d=await await p;a("detect",d)},l=p=>{if(!(p.target instanceof HTMLInputElement)||!p.target.files)return;const d=[...Array.from(p.target.files)];for(const v of d.map(kr))o(v)};return(p,d)=>(X(),ue("input",{onChange:l,type:"file",name:"image",accept:"image/*",capture:"environment",multiple:""},null,32))}}),Oa=["onDrop"],ka=ft({__name:"QrcodeDropZone",emits:["detect","dragover","error"],setup(n,{emit:a}){const o=async d=>{try{const v=await d;a("detect",v)}catch(v){a("error",v)}},l=d=>{a("dragover",d)},p=({dataTransfer:d})=>{if(!d)return;l(!1);const v=[...Array.from(d.files)],S=d.getData("text/uri-list");v.forEach(m=>{o(kr(m))}),S!==""&&o(zi(S))};return(d,v)=>(X(),ue("div",{onDrop:nt(p,["prevent","stop"]),onDragenter:v[0]||(v[0]=nt(S=>l(!0),["prevent","stop"])),onDragleave:v[1]||(v[1]=nt(S=>l(!1),["prevent","stop"])),onDragover:v[2]||(v[2]=nt(()=>{},["prevent","stop"]))},[br(d.$slots,"default")],40,Oa))}});function Da(n){n.component("qrcode-stream",Hr),n.component("qrcode-capture",Ea),n.component("qrcode-drop-zone",ka)}const xa={install:Da};let lt=null;typeof window<"u"?lt=window.Vue:typeof global<"u"&&(lt=global.Vue);lt&&lt.use(xa);const Aa={class:"w-100 d-flex align-items-center justify-content-center",style:{"min-height":"100vh"}},Ma={class:"fixed-top bg-white p-3 h4 bold mt-2"},ja={class:"overflow-hidden py-5 mt-3 mt-md-0 bg-transparent text-secondary w-100 p-3 row",style:{}},Ra={class:"col-12 col-md-6"},Fa=U("div",{class:"position-absolute w-100 h-100 mx-auto p-3 --bg-success",style:{top:"0",right:"0"}},[U("div",{class:"rounded qr-border w-100 p-4 mx-auto",style:{}})],-1),Ua={key:0,class:"col-12 col-md-6"},Wa={class:"text-white mt-2 w-100"},Ia={class:"fs-4 fw-bold w-100 text-center"},Ha=U("br",null,null,-1),Na={class:"d-flex justify-content-center flex-wrap w-100 mt-3"},La={class:"mt-4 w-100 text-center"},Va={key:0,class:"fs-4 my-1"},za={key:1,class:"fs-4 my-1"},Ba=U("br",null,null,-1),qa=U("br",null,null,-1),Ga={class:"mt-4"},Ya=U("br",null,null,-1),Ja=U("br",null,null,-1),Qa=U("div",{class:"w-100 bg-white my-5",style:{"min-width":"100vvw","min-height":"2px"}},null,-1),Ka={class:"p-2"},Za={key:0,class:"px-5 p-2 d-flex align-items-center justify-content-center bg-white text-success text-uppercase btn fw-bold",style:{"border-radius":"20px"}},Xa={key:1,class:"col-12 col-md-6"},es={class:"text-white mt-2 w-100"},ts={class:"d-flex justify-content-center flex-wrap w-100 mt-3"},rs=U("div",{class:"mt-4 w-100 text-center"},[U("span",{class:"fs-3 my-1"}," Ticket not Found ")],-1),ns=ft({data(){return{ticket:null,isScannedSuccess:!1,scanningComplete:!1}},methods:{async onDetect(n){if(this.$widget.playBlimp(),n=n[0].rawValue,console.log("ID",n),n){this.$widget.openLoading();const a=await this.scanTicketService({id:n,event_id:this.$route.params.event_id});if(this.scanningComplete=!0,this.ticket=a.data??a.errorMessage,console.log(this.ticket),this.$widget.dismiss(),a.success){this.isScannedSuccess=a.success,this.$toast.success("TICKET COULD BE FOUND!");return}a.success||(this.$toast.error("TICKET INVALID!"),this.$widget.playBuzz());return}this.$toast.push("INVALID QRCODE")},moveToHistory(){this.$router.push("/scan/history")},...di(["scanTicketService"])},mounted(){}}),is=Object.assign(ns,{__name:"ScanPage",setup(n){return(a,o)=>(X(),ue("div",Aa,[U("div",Ma,[ot($e(Ue),{icon:"fa:chevron-left",class:"me-4",onClick:o[0]||(o[0]=l=>a.$router.go(-1))}),it(" Scan Page ")]),U("div",ja,[U("div",Ra,[ot($e(Hr),{class:"_d-none _d-md-flex rounded position-relative",onDetect:a.onDetect,style:{"min-height":"400px","object-fit":"cover"}},{default:pi(()=>[Fa]),_:1},8,["onDetect"])]),a.ticket?(X(),ue("div",Ua,[U("div",{class:"w-100 py-5 mt-3 mt-md-0 d-flex justify-content-center h-100",style:fr(`background-color:${a.isScannedSuccess?"rgb(18, 201, 18)":"red"}`)},[U("div",Wa,[U("div",Ia,at(a.ticket.ticket_level.title),1),Ha,U("div",Na,[a.isScannedSuccess?(X(),dr($e(Ue),{key:0,icon:"simple-line-icons:check",width:"100",class:"text-white"})):(X(),dr($e(Ue),{key:1,icon:"ic:outline-cancel",width:"100",class:"text-white"})),U("div",La,[a.isScannedSuccess?(X(),ue("span",Va," Valid Ticket ")):(X(),ue("span",za," InValid Ticket ")),Ba,qa,U("span",Ga,[it(at(a.ticket.user.first_name)+" "+at(a.ticket.user.last_name),1),Ya,it(" "+at(a.ticket.id),1)]),Ja]),Qa,U("div",Ka,[a.isScannedSuccess?(X(),ue("div",Za,[ot($e(Ue),{icon:"fa:check",class:"me-1"}),it(" Checked-in ")])):pr("",!0)])])])],4)])):a.scanningComplete&&!a.ticket?(X(),ue("div",Xa,[U("div",{class:"w-100 py-5 d-flex justify-content-center h-100",style:fr(`background-color:${a.isScannedSuccess?"rgb(18, 201, 18)":"red"}`)},[U("div",es,[U("div",ts,[ot($e(Ue),{icon:"simple-line-icons:check",width:"100",class:"text-white"}),rs])])],4)])):pr("",!0)])]))}});export{is as default};
